# ADR 1: Впровадження логічного розділення шарів для покращення Maintainability в проекті Track Manager

---

## Context

У процесі роздумів над тим, наскільки правильно зараз організована архітектура проекту, та над тим, як легко буде підтримувати, розуміти, тестувати, масштабувати код у майбутньому, я зіткнулася з тим, що бізнес-логіка, запити до серверу та керування станом часто знаходяться безпосередньо у UI-компонентах або сторінках.

Це ускладнює:

- адаптацію до змін API або бізнес-вимог;
- повторне використання логіки в різних частинах застосунку;
- написання unit-тестів на логіку окремо від UI;

Крім того, без чітких меж між шарами даних, стану та представлення, порушується принцип Separation of Concerns.

---

## Decision

Я вирішила впровадити архітектурне розділення логіки застосунку на три шари, зберігаючи при цьому горизонтальну структуру проекту:

### 1. Шар доступу до даних (`services/api/`)

- Відповідає за низькорівневі запити до бекенду (axios).
- Це вже реалізовано у проєкті — залишаю без змін.

### 2. Шар логіки (`store/`, `store/hooks/`)

- Містить React Query хуки, Redux slice та обробку даних.
- Приклади: `useTracksQuery.ts`, `cacheSlice.ts`

### 3. Шар UI (`components/`, `pages/`)

- Відповідає лише за представлення (рендеринг).
- Приклади: `TrackTable.tsx`, `AudioUploadModal.tsx`

---

## Rationale

Це рішення базується на принципах:

- Separation of Concerns
- Single Responsibility Principle
- Композиційності хуків у React

### Основні переваги:

- Компоненти UI стануть легшими
- Централізація логіки
- Повторне використання логіки
- Краща тестованість

### Відкинуті альтернативи:

- Утримання всієї логіки в компонентах або сторінках (антипатерн)

---

## Status

Accepted - Поступово буду впроваджуати зміни в усіх ключових частинах проєкту: модалках, таблицях, формах тощо.

---

## Consequences

### Позитивні:

- Легший для підтримки та розуміння код
- Краща тестованість логіки
- Масштабованість
- Відповідність сучасним архітектурним практикам

### Негативні:

- Початкові витрати часу на декомпозицію
